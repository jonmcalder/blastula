<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Email Composition • blastula</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Simple Email Composition">
<meta property="og:description" content="">
<meta property="og:image" content="https://rich-iannone.github.io/blastula/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">blastula</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/simple_composition.html">Simple Email Composition</a>
    </li>
    <li>
      <a href="../articles/sending_using_smtp.html">Sending Email Using SMTP</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rich-iannone/blastula">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Simple Email Composition</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/blastula/blob/master/vignettes/simple_composition.Rmd"><code>vignettes/simple_composition.Rmd</code></a></small>
      <div class="hidden name"><code>simple_composition.Rmd</code></div>

    </div>

    
    
<p>Before we get to the process of creating an HTML email message, it’s a good idea to learn about the model of such a message in <strong>blastula</strong>. Here is a diagram, and it doesn’t contain too many components (because simplicity in HTML email is a good thing).</p>
<br><p align="center">
<img src="../man/figures/html_email_model.svg" width="600px"></p>
<p><br></p>
<p>The main components (from top to bottom) are the <strong>header</strong>, the <strong>body</strong>, and the <strong>footer</strong>. The <strong>body</strong> content is inside of a wrapper that functions to differentiate the main content from whatever is in the <strong>header</strong> and <strong>footer</strong> (above and below the <strong>body</strong>).</p>
<p>Another thing to note is that the HTML used is responsive. Viewing the HTML in a viewport that is greater than or equal to 640 pixels will be different than seeing it with a viewport that’s smaller. This is important because email on mobile devices will often take on the latter view, which is optimized for smaller display widths (e.g., larger font sizes, decreased vertical space between elements, resized images, etc.).</p>
<p>When using <strong>blastula</strong>, we don’t have to worry much about either view since the API is designed to make emails look their best in both of them. Because we can preview the email message before sending it out, we have a chance to manually resize the browser and inspect the message in a variety of display widths.</p>
<div id="creating-a-simple-html-email-message" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-simple-html-email-message" class="anchor"></a>Creating a Simple HTML Email Message</h2>
<p>For those times where we’d only want to send a simple HTML email message, we can use the <code><a href="../reference/compose_email.html">compose_email()</a></code> function and focus on adding text content to the <strong>body</strong> component. So let’s create a simple email message using some plain text inside <code>body</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="../reference/compose_email.html">compose_email</a></span>(</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">  <span class="dt">body =</span> <span class="st">"</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="st">Hello,</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="st">I just wanted to let you know that the thing that you </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="st">asked me for is ready to pick up. So, come over and </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="st">do that.</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="st">Cheers</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="st">"</span>)</a></code></pre></div>
<p align="center">
<img src="compose_simple-wide.png" width="600px"></p>
<p align="center">
<img src="compose_simple-narrow.png" width="380px"></p>
<p align="center">
This is how it looks, depending on the display width (wide at top, narrow below that).
</p>
<p><br></p>
<p>Markdown text can be used as input for the <code>body</code>, <code>header</code>, and <code>footer</code> arguments. So, use the usual Markdown-formatting you know and you’ll get italicized text, bold text, lists, links, etc. The <strong>commonmark</strong> package is doing the conversion from Markdown to HTML, in case you were wondering.</p>
<p>A few notes on code style and options. It’s good to left-align the text in the code example since it will reduce the risk of having four or more spaces after a linebreak, which will result in <code>text like this</code>. We can continue lines with the <code>\\</code> line continuation marker, which is great for keeping long paragraphs of text at a reasonable width. Any literal quotation marks should be escaped using a single <code>\</code>. Blank lines separating blocks of text result in new paragraphs.</p>
<p>If we assign this to an object (like <code>email</code>), we can always preview the email message by calling the object itself (it automatically prints its HTML to the Viewer).</p>
<p>We can use string interpolation to add in <strong>R</strong> code or strings assigned to variables. These variables can be obtained from the global workspace. Let’s look at an example of that. Some text to interpolate will be assigned to <code>sender_name</code> (it’ll be the name of the email sender).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">sender_name &lt;-<span class="st"> "Shelly"</span></a></code></pre></div>
<p>Now we can refer to the object in the global workspace inside of curly braces. Here’s the revised <code><a href="../reference/compose_email.html">compose_email()</a></code> call and the wide version of the HTML email output.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/compose_email.html">compose_email</a></span>(</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="dt">body =</span> <span class="st">"</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">Hello,</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">I just wanted to let you know that the thing that you </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="st">asked me for is ready to pick up. So, come over and </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="st">do that.</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="st">Cheers,</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="st">{sender_name}"</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">)</a></code></pre></div>
<p align="center">
<img src="compose_interpolation_local-wide.png" width="600px"></p>
<p align="center">
Now we have the output of a variable spliced in. Nice.
</p>
<p><br></p>
<p>We can include longer <strong>R</strong> statements inside of the curly braces (like <code>{paste0(format(Sys.time(), "%A, %B "), format(Sys.time(), "%d") %&gt;% as.numeric(), ", ", format(Sys.time(), "%Y"))}</code>), however, that would be unwieldy. It’s better to generate local variables with <strong>R</strong> statements and just introduce those variables to the email.</p>
<p>In the next example, let’s first store the result of that statement in a local variable (<code>sending_date</code>). Then, the variable will be placed in the <strong>footer</strong> of the message (using the <code>footer</code> argument) along with leading text.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Create a string with a nicely-formatted date;</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># we can format the statement in a tidy manner </span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">sending_date &lt;-</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/format">format</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>(), <span class="st">"%A, %B "</span>),</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/format">format</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>(), <span class="st">"%d"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">as.numeric</a></span>(),</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">    <span class="st">", "</span>,</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/format">format</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.time">Sys.time</a></span>(), <span class="st">"%Y"</span>)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">  )</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co"># Compose the email message, passing in the</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co"># `sending_date` value to the `footer`</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="kw"><a href="../reference/compose_email.html">compose_email</a></span>(</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">  <span class="dt">body =</span> <span class="st">"</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="st">Hello,</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="st">I just wanted to let you know that the thing that you </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="st">asked me for is ready to pick up. So, come over and </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="st">do that.</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="st">Cheers,</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="st">{sender_name}</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="st">"</span>,</a>
<a class="sourceLine" id="cb4-25" data-line-number="25">  <span class="dt">footer =</span> <span class="st">"</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="st">Sent on {sending_date}.</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27"><span class="st">"</span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28">)</a></code></pre></div>
<p align="center">
<img src="compose_interpolation_stmt-wide.png" width="600px"></p>
<p align="center">
Complicated string formatting goes into variables, the variables go into the email components
</p>
<p><br></p>
<p>Content in the <strong>footer</strong> and <strong>header</strong> sections is styled differently than <strong>body</strong> content (<strong>footer</strong> text will be somewhat smaller for one thing). The main message typically goes into the <strong>body</strong> whereas supplementary information works better in the <strong>footer</strong>.</p>
</div>
<div id="adding-an-image-to-an-html-email" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-an-image-to-an-html-email" class="anchor"></a>Adding an Image to an HTML Email</h2>
<p>Adding images to an email message is either (1) a dicey proposition, (2) a questionable plan, (3) or an iffy proposal. Why? Who knows what the recipient will actually see. Will it be a wall of random text? A massive, misaligned image? Anything at all? The mere suggestion of adding imagery is enough to give one heart palpitations.</p>
<p>Although the rules for images in HTML email have changed often, the method that seems to be working reasonably well these days is to use external images. There is a bit of upfront work in getting the image hosted somewhere but the payoff is that most (maybe all?) email services/clients will show the image. The <strong>blastula</strong> package has a function which takes some of the pain out of getting images to a hosting service, it is the <code><a href="../reference/add_imgur_image.html">add_imgur_image()</a></code> function. <strong>Imgur</strong> is a fun site for sure (gifs galore!) but did you know that they have an API to make image uploading easy? They do, and this function takes advantage of that.</p>
<p>Here’s an example of an email that includes a local image that is deployed to <strong>Imgur</strong> (available at <a href="https://i.imgur.com/8uTB2Py.jpg" class="uri">https://i.imgur.com/8uTB2Py.jpg</a>) for indefinite hosting.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Send your image to Imgur with a Client Key;</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># the result is specially-crafted &lt;img&gt; tag</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># imgur_image &lt;-</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#   add_imgur_image(</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#     image = "rickenbacker_4001_1972_fireglo.jpg",</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#     client_id = "&lt;YOUR CLIENT ID&gt;"</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#   )</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co"># Compose the email message, passing in the</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co"># `imgur_image` value and whatever else</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="kw"><a href="../reference/compose_email.html">compose_email</a></span>(</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="dt">body =</span> <span class="st">"</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="st">Hello,</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="st">I just wanted to let you know that the **1972 Rickenbacker </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="st">4001** is here to pick up. Here is a picture of it:</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="st">{imgur_image}</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="st">Cheers,</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="st">{sender_name}"</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23">)</a></code></pre></div>
<p align="center">
<img src="compose_imgur_local_image-wide.png" width="600px"></p>
<p align="center">
Once you get that Imgur Client ID, this is really easy
</p>
<p><br></p>
<p>This is how you get the all-important Client ID from <strong>Imgur</strong>. First, <a href="https://help.imgur.com/hc/en-us/articles/210076633-Create-an-Account">get an account with <strong>Imgur</strong></a>! Once that’s a thing accomplished, we can get the <code>Client-ID</code> key for the <strong>Imgur API</strong>. This can be easily done by going visiting <a href="https://api.imgur.com/oauth2/addclient">the API registration page</a> while signed-in to register an application. Give it a name—any name you can think of—and be sure to select the <code>OAuth 2 authorization type without a callback URL</code> radio button (the second in the list). After filling in the other necessary information bits and proving that you’re not a robot, you’ll receive the Client ID key! You’ll then have unfettered access to use any images, including animated gifs, in an HTML email message.</p>
<p>Wait, there’s more! Since this is <strong>R</strong> and we care a great deal about <strong>ggplot2</strong>, we can directly pass in a ggplot object to <code><a href="../reference/add_imgur_image.html">add_imgur_image()</a></code> and expect a nice ggplot image to appear in the email message. Here’s an example of how that works:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># Create the plot data</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">variety &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>], <span class="dt">each =</span> <span class="dv">40</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">treatment &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"high"</span>, <span class="st">"low"</span>), <span class="dt">each =</span> <span class="dv">20</span>)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">note &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">280</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">150</span>, <span class="dv">280</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(variety, treatment, note)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co"># Create the plot</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">the_plot &lt;-</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="st">  </span><span class="kw">ggplot</span>(data, <span class="kw">aes</span>(<span class="dt">x =</span> variety, <span class="dt">y =</span> note, <span class="dt">fill =</span> treatment)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_boxplot</span>()</a>
<a class="sourceLine" id="cb6-11" data-line-number="11"></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co"># Send your ggplot to Imgur with a Client Key;</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co"># again, you get an &lt;img&gt; tag that works for email</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co"># imgur_image &lt;-</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#   add_imgur_image(</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#     image = the_plot,</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#     client_id = "&lt;YOUR CLIENT ID&gt;"</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#   )</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co"># Compose the email message, passing in the</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co"># `imgur_image` value and whatever else</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="kw"><a href="../reference/compose_email.html">compose_email</a></span>(</a>
<a class="sourceLine" id="cb6-23" data-line-number="23">  <span class="dt">body =</span> <span class="st">"</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="st">Hello,</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="st">I just wanted to let you know that the *ggplot* you </span><span class="ch">\\</span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="st">wanted to see is right here, in this email:</span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="st">{imgur_image}</span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="st">Cheers,</span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="st">{sender_name}"</span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34">)</a></code></pre></div>
<p align="center">
<img src="compose_imgur_ggplot-wide.png" width="600px"></p>
<p align="center">
A ggplot in your email message
</p>
<p><br></p>
<p>I don’t know about you but I’d love to get a ggplot in <em>my</em> email.</p>
</div>
<div id="wrapping-up" class="section level2">
<h2 class="hasAnchor">
<a href="#wrapping-up" class="anchor"></a>Wrapping Up</h2>
<p>We now know how to send really simple email messages with just some text, and, slightly more complex messages with images inside. <strong>Imgur</strong> really saves the day when it comes to hosting images as their API service is very permissive and getting access is not at all difficult.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#creating-a-simple-html-email-message">Creating a Simple HTML Email Message</a></li>
      <li><a href="#adding-an-image-to-an-html-email">Adding an Image to an HTML Email</a></li>
      <li><a href="#wrapping-up">Wrapping Up</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Iannone.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
